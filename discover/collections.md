# Collections

終於要介紹到 Meteor 最核心的特殊功能了，讓前端與後端資料能夠自動化同步的魔法。

我們首先在 `/lib` 目錄下建立 `collections` 的次目錄，下面再建立我們要用來定義資料的 `posts.js` 檔案。

> 記得 `/lib` 是最優先會被載入的目錄嗎？因為資料是一切的基礎，所以我們把資料定義檔案擺在這個目錄。

## 資料

對一個 Web Apps 來說，資料可能有三種儲存方式：

1. **瀏覽器的記憶體**： JavaScript 的變數值就是擺在瀏覽器的記憶體中，因此不是持久的：它只存在你正在瀏覽的這個頁籤，一旦關閉頁籤就不見了。
2. **瀏覽器的儲存空間**： 瀏覽器可以使用 cookies 或 **Local Storage** 擺放較持久的資料，這些資料可以在一個 **session** 之間長久留存，僅供目前的用戶使用（但可以跨頁籤），並不太容易與其他用戶分享。
3. **伺服器端的資料庫**： 最適合長久儲存資料，或是與其他用戶分享的儲存空間，還是傳統的、後端（伺服器上）的資料庫。

> 瀏覽器似乎也已經有小型資料庫可以使用，而且自從 Safari 8.x 之後，**IndexDB** 已經成了通用格式，對需要能離線使用的應用程式來說很重要。Meteor 目前似乎有一個 [ground:db](https://atmospherejs.com/ground/db) 可以用。

目前，Meteor 只支援 MongoDB 一種資料庫解決方案。

> 正常來說，`find()` 返回的是「指針（cursor）」，是指一個「響應式資料源 - [reactive data source](http://docs.meteor.com/#find)」；如果我們需要實際的資料，可以使用 `fetch()` 將指針轉換成資料陣列。（在主控台或終端機就得如此。）
> 但寫在 Meteor 應用程式的代碼裏，Meteor 因為夠聰明、知道其實你是想要拿資料，所以自動替你轉換了，所以在大多數時候可以省略掉 `fetch()` 的使用。
